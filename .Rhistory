is.vector(v)
#as.
v
as.list(v)
as.matrix(v)
# Apply function
sample(x = 1:10, 1)
print(sample(x = 1:10, 1))
print(sample(x = 1:100, 1))
v <- c(1,2,3,4,5)
addrand <- function(x){
ran <- sample(1:100, 1)
return(x+ran)
}
print(addrand(10))
lapply(v, addrand)
print(result)
v <- c(1,2,3,4,5)
addrand <- function(x){
ran <- sample(1:100, 1)
return(x+ran)
}
print(addrand(10))
result <- lapply(v, addrand)
print(result)
result <- sapply(v, addrand)
print(result)
v <- 1:5
return(num*2)
result <- sapply(v, times2)
print(result)
v <- 1:5
times2 <- function(num){
return(num*2)
}
print(v)
result <- sapply(v, times2)
print(result)
help(sapply)
result <- sapply(v,function(num){num*2})
print(result)
return(num*2)
add_choice <- function(num, choice){
return(num+choice)
}
print(add_choice(2,10))
sapply(v, add_choice)
abs(2)
abs(-2)
v <- c(-2, -3, 0, 4)
abs(v)
sum(v)
mean(v)
round(v)
round(2.333123421)
round(2.333123421, digits = 2)
round(2.37777,3)
# Regular expression
#grepl function
text <- "Hi there, do you who your are voting for?"
text#grep function
grepl("voting", text)
grepl("dog", text)
#grep function
v <- c("a", "b", "c","d","d")
v
grepl("b",v)
grep("b",v)
grep("d",v)
grepl("hello", "hello world")
grep("a", c("b","a"))
Sys.Date()
today <- Sys.Date()
class(today)
c<- "1990-01-01"
class(c)
my.date <- as.Date(c)
class(my.date)
as.Date("Nov-03-1990")
as.Date(05-21-1991)
my.date <- as.Date("Nov-03-90")
my.date <- as.Date("Nov-03-90", format = "%b-%d-%y")
my.date
c<- "1990-01-01"
class(c)
my.date <- as.Date(c)
class(my.date)
as.Date("Nov-03-1990")
as.Date(05-21-1991)
my.date <- as.Date("Nov-03-90", format = "%b-%d-%y")
my.date
my.date <- as.Date("Nov-03-90",format = "%b-%d-%y")
my.date
my.date <- as.Date("Nov-03-90",format ="%b-%d-%y")
my.date
as.Date("June,01,2002", format="%B,%d,%Y")
as.Date("June,01,2002",format="%B,%d,%Y")
install.packages("dplyr")
installed.packages("nyclights13")
library(dplyr)
installed.packages("nycflights13")
library(nycflights13)
install.packages("nycflights13")
library(nycflights13)
head(flights)
summary(flights)
head(filter(flights,month==11,day==3,carrier=="AA"))
head(flights[flights$month == 1 & flights$day == 3 & flights$carrier == "AA",])
#slice (return to the position)
slice(flights, 1:10)
#arrange
head(arrange(flights,year,month,day,air_time))
head(arrange(flights,year,month,day,arr_time))
head(arrange(flights,year,month,day,desc(arr_time))
head(arrange(flights,year,month,day,desc(arr_time)))
head(arrange(flights,year,month,day,desc(arr_time)))
#Select function from data fames
head(select(flights,carrier))
head(select(flights,carrier, arr_time,month))
#rename function
head(rename(flights,airline_carrier = carrier))
#Distinct
distint(select(flights,carrier))
#Distinct
distinct(select(flights,carrier))
head(mutate(flights, new_col = arr_delay-dep_delay))
head(transmute(flights, new_col = arr_delay*dep_delay))
summarise(flight, avg_air_times=mean(air_time,na.rm = TRUE))
summarise(flights, avg_air_times=mean(air_time,na.rm = TRUE))
summarise(flights, total_time=sum(air_time,na.rm = TRUE))
#Sample_n
sample_n(flights,10)
sample_frac(flights,0.1)
#pipe operator
library(dplyr)
#Nesting
filter(df, mpg >20)
result <- arrange(sample_n(filter(df, mpg >20), size=5),desc(mpg))
print(result)
#Multiple assignments
a <- filter(df,mpg>20)
b <- sample_n(a,size=5)
resutl <- arrange(b, desc(mpg))
print(result)
#Data %<% op1 %<% op2 %<% op3
results <- df %<% filter(mpg>20) %<% sample_n(size=5) %<% arrange(desc(mpg))
#Data %>% op1 %>% op2 %>% op3
results <- df %>% filter(mpg>20) %>% sample_n(size=5) %>% arrange(desc(mpg))
print(result)
library(dplyr)
head(mtcars)
filter(mtcars, mpg>20,cyl>6)
filter(mtcars, mpg>20,cyl==6)
#Reorder the Data Frame by cyl first, then by descending wt.
head(arrange(mtcars,cyl,desc(wt)))
#Select the columns mpg and hp
select(mtcars,mpg,hp)
#Select the distinct values of the gear column.
distinct(mtcars,gear)
head(mutate(mtcars,performance))
#Create a new column called "Performance" which is calculated by hp divided by wt.
performance <- hp/wt
head(mutate(mtcars,performance))
#Create a new column called "Performance" which is calculated by hp divided by wt.
performance <- mtcars$hp/mtcars$wt
head(mutate(mtcars,performance))
#Find the mean mpg value using dplyr.
mean(mtcars$mpg)
#Use pipe operators to get the mean hp value for cars with 6 cylinders.
mtcars %>% filter(cyl==6) %>% summarise(avg_hp = mean(hp))
install.packages("tidyr")
install.packages("data.table")
library(tidyr)
library(data.table)
#gather
comp <- c(1,1,1,2,2,2,3,3,3)
yr <- c(1998, 1999, 2000, 1998, 2000, 1998, 1999, 2000)
q1 <- runif(9, min=0, max=100)
q2 <- runif(9, min=0. max=100)
q3 <- runif(9, min=0, max=100)
q4 <- runif(9, min=0, max=100)
df <- data.frame(comp=comp,year=yr,Qtr1=q1,Qtr2=q2,Qtr3=q3,Qtr4=q4)
q2 <- runif(9, min=0. max=100)
df <- data.frame(comp=comp,year=yr,Qtr1=q1,Qtr2=q2,Qtr3=q3,Qtr4=q4)
df <- data.frame(comp=comp,year=yr,Qtr1=q1,Qtr2=q2,Qtr3=q3,Qtr4=q4)
yr <- c(1998, 1999, 2000, 1998, 2000, 1998, 1999, 2000)
q1 <- runif(9, min=0, max=100)
q2 <- runif(9, min=0. max=100)
q3 <- runif(9, min=0, max=100)
q4 <- runif(9, min=0, max=100)
q2 <- runif(9, min=0, max=100)
df <- data.frame(comp=comp,year=yr,Qtr1=q1,Qtr2=q2,Qtr3=q3,Qtr4=q4)
df <- data.frame(comp=comp,year=yr,Qtr1 = q1,Qtr2 = q2,Qtr3 = q3,Qtr4 = q4)
installed.packages("ggplot2")
installed.packages("ggplot2movies")
library(ggplot2)
installed.packages("ggplot2movies")
library(ggplot2)
library(ggplot2movies)
installed.packages("ggplot2movies")
library(ggplot2movies)
colmanes(movies)
colnames(movies)
head(movies)
#DATA AESTHETICS
pl <- ggplot(movies,aes(x=rating))
#Geometry
print(pl + geom_histogram())
print(pl + geom_histogram(binwidth = 0.1))
print(pl + geom_histogram(binwidth = 0.1, color="red"))
print(pl + geom_histogram(binwidth = 0.1, color="red", fill="Pink"))
print(pl + geom_histogram(binwidth = 0.1, color="red", fill="Pink",alpha=0))
print(pl + geom_histogram(binwidth = 0.1, color="red", fill="Pink",alpha=1))
print(pl + geom_histogram(binwidth = 0.1, color="red", fill="Pink",alpha=0.4))
print(pl3)
pl4 <- (pl2 + xlab("Movie Rating") + ylab("My Count"))
print(pl4)
pl4 <- (pl2 + xlab("Movie Rating") + ylab("My Count"))
print(pl4)
pl4 <- (pl2 + xlab("Movie Rating") + ylab("My Count"))
#adding the labels
pl2 <- pl + geom_histogram(binwidth = 0.1, color="red", fill="Pink",alpha=0.4)
pl4 <- (pl2 + xlab("Movie Rating") + ylab("My Count"))
print(pl4)
print(pl3 + ggtitle("My title"))
pl2 <- pl + geom_histogram(binwidth = 0.1, color="red", fill="Pink",alpha=0.4)
pl3 <- (pl2 + xlab("Movie Rating") + ylab("Count"))
print(pl3 + ggtitle("My title"))
#fill with the range of the color
pl2 <- pl + geom_histogram(binwidth = 0.1, aes(fill=..count=..))
pl2 <- pl + geom_histogram(binwidth = 0.1, aes(fill=..count=..))
pl3 <- (pl2 + xlab("Movie Rating") + ylab("Count"))
print(pl3 + ggtitle("My title"))
#fill with the range of the color
pl2 <- pl + geom_histogram(binwidth = 0.1, aes(fill=..count=..))
pl3 <- (pl2 + xlab("Movie Rating") + ylab("Count"))
print(pl3 + ggtitle("My title"))
#fill with the range of the color
pl2 <- pl + geom_histogram(binwidth = 0.1, aes(fill=..count..))
pl3 <- (pl2 + xlab("Movie Rating") + ylab("Count"))
print(pl3 + ggtitle("My title"))
library(ggplot2)
library(ggplot2movies)
pl <- ggplot(movies,aes(x=year,Y=rating))
source('~/.active-rstudio-document', encoding = 'UTF-8')
print(pl + geom_bin2d())
library(ggplot2)
library(ggplot2movies)
pl <- ggplot(movies,aes(x=year,Y=rating))
print(pl + geom_bin2d())
print(pl + geom_bin2d())
library(ggplot2)
library(ggplot2movies)
pl <- ggplot(movies,aes(x=year,Y=rating))
print(pl + geom_bin2d())
pl <- ggplot(movies,aes(x=year,y=rating))
print(pl + geom_bin2d())
pl2 <- pl + geom_bind2d()
library(ggplot2)
library(ggplot2movies)
pl <- ggplot(movies,aes(x=year,y=rating))
print(pl + geom_bin2d())
pl2 <- pl + geom_bind2d()
pl2 <- pl + geom_bin2d()
print(pl2 + scale_fill_gradient(high="red", low="green"))
pl3 <- pl + geom_bin2d(binwidth=c(3,1))
print(pl3 + scale_fill_gradient(high="red", low="green"))
print(pl3 + scale_fill_gradient(high="red", low="blue"))
pl4 <- pl + geom_hex
pl4 <- pl + geom_hex()
print(pl4 + scale_fill_gradient(high="red", low="blue"))
install.packages("hexbin")
pl4 <- pl + geom_hex()
print(pl4 + scale_fill_gradient(high="red", low="blue"))
pl5 <- pl + geom_density2d()
print(pl5)
library(ggplot2)
ggplot2(mpg, aes(x=displ,y=hwy)) + geom_point()
pl <- ggplot2(mpg, aes(x=displ,y=hwy)) + geom_point()
pl <- ggplot(mpg, aes(x=displ,y=hwy)) + geom_point()
print(pl)
pl2 <- pl + coord_cartesian(xlim=c(1,4),ylim=c(15,30))
print(pl2)
pl3 <- pl + coord_fixef(ratio=1/3)
print(pl3)
pl3 <- pl + coord_fixed(ratio=1/3)
print(pl3)
#facet_grid
print(pl)
print(pl + facet_grid(. ~ cyl))
head(mpg)
#facet function will support to create the different graph of each sample
print(pl + facet_grid(drv ~ .))
print(pl + facet_grid(drv ~ cyl))
#themes
library(ggplot2)
pl <- ggplot(mtcars,aes(x=wt,y=mpg)) + geom_point()
print(pl)
theme_set(theme_minimal())
pl <- ggplot(mtcars,aes(x=wt,y=mpg)) + geom_point()
print(pl
pl <- ggplot(mtcars,aes(x=wt,y=mpg)) + geom_point()
print(pl)
print(pl + theme_dark())
install.packages("ggthemes")
library(ggthmes)
library(ggthemes)
print(pl + theme_economist())
library(ggplot2)
ggplot()library(ggthemes)
library(themes)
library(ggthemes)
head(mpg)
install.packages("plotly")
# get the data
pwd
getwd()
ls
cd C:\\Users\\leh\\Documents\\DataScienceAndML
cd \\Users\\leh\\Documents\\DataScienceAndML
cd \\Users\\leh\\Documents\\DataScienceAndML
cd C\\Users\\leh\\Documents\\DataScienceAndML
cd (C\\Users\\leh\\Documents\\DataScienceAndML)
df <- read.csv("student-mat.csv")
df <- read.csv("student-mat.csv")
df <- read.csv("student-mat.csv")
ls
ls
#GET THE DATA
install.packages("ISLR")
library(ISLR)
strc(Caravan)
str(Caravan)
summary(Caravan$Purchase)
any(is.na(Caravan))
var(Caravan[,1])
var(Caravan[,2])
purchase <- Caravan[,86]
#Identify the datasheet
standardized.Caravan <- scale(Caravan[,-86])
print(var(standardized.Caravan[,1]))
print(var(standardized.Caravan[,2]))
#Train test split in the data
test.index <- 1:1000
test.data <- standardized.Caravan[test.index,]
test.purchase <- purchase[test.index]
#train data
train.data <- standardized.Caravan[-test.index,]
train.purchase <- purchase[-test.index]
#####
# KNN model
library(class)
set.seed(101)
predicted.purchase <- knn(train.data, test.data,train.purchase, k =1)
print(head(predicted.purhcase))
print(head(predicted.purchase))
mischass.error <- mean(test.purchase != predicted.purchase)
print(misclass.error)
misclass.error <- mean(test.purchase != predicted.purchase)
print(misclass.error)
predicted.purchase <- knn(train.data, test.data,train.purchase, k =3)
print(head(predicted.purchase))
misclass.error <- mean(test.purchase != predicted.purchase)
print(misclass.error)
predicted.purchase <- knn(train.data, test.data,train.purchase, k =5)
print(head(predicted.purchase))
misclass.error <- mean(test.purchase != predicted.purchase)
print(misclass.error)
#how to chose the best K value
predicted.purchase <- NULL
error.rate <- NULL
error.rate[i] <- mean(test.purchase != predicted.purchase)
for(i in 1:20){
set.seed(101)
predicted.purchase <- knn(train.data, test.data, train.purchase, k=i)
error.rate[i] <- mean(test.purchase != predicted.purchase)
}
print(error.rate)
### VISUALIZE K ELBOW METHOD
####
library(ggplot2)
k.values <- 1:20
error.df <- data.frame(error.rate, k.vales)
error.df <- data.frame(error.rate, k.values)
k.values <- 1:20
error.df <- data.frame(error.rate, k.values)
print(error.df)
### VISUALIZE K ELBOW METHOD
####
library(ggplot2)
k.values <- 1:20
error.df <- data.frame(error.rate, k.values)
error.rate <- NULL
error.df <- data.frame(error.rate, k.values)
print(error.rate)
error.rate <- NULL
for(i in 1:20){
set.seed(101)
predicted.purchase <- knn(train.data, test.data, train.purchase, k=i)
error.rate[i] <- mean(test.purchase != predicted.purchase)
}
print(error.rate)
k.values <- 1:20
error.df <- data.frame(error.rate, k.values)
print(error.df)
ggplot(error.df,aes(k.values, error.rate)) + geom_point() + geom_line(lty="dotted", color="red")
install.packages("rpart")
library(rpart)
help("rpart")
str(kyphosis)
head(kyphosis)
tree <- rpart(Kyphosis ~ ., method = "class", data=kyphosis)
printcp(tree)
plot(tree, uniform=T, main="Kyphosis Tree")
tex(tree, use.n=T,all=T
tex(tree, use.n=T,all=T)
text(tree, use.n=T,all=T)
install.packages("rpart.plot")
library(rpart.plot)
prp(tree)
install.packages("randomForest")
library(randomForest)
rf.model <- randomForest(Kyphosis ~ ., data=kyphosis)
print(rf.model)
rf.model$predicted
rf.model$ntree
rf.model$confusion
setwd("~/DataScienceAndML")
library(ISLR)
head(College)
df <- data.frame("College")
head(df)
print(df)
df <- data.frame(College)
head(df)
summary(df)
###EDA
#Create a scatterplot of Grad.Rafe verus Room.Borad, colored by the Private column
library(ggplot2)
###EDA
#Create a scatterplot of Grad.Rafe verus Room.Borad, colored by the Private column
library(ggplot)
###EDA
#Create a scatterplot of Grad.Rafe verus Room.Borad, colored by the Private column
library(ggplot2)
gglot(df,aes(Room.Boradh, Grad.Rate)) + geom_point(aes(color=Private))
ggplot(df,aes(Room.Boradh, Grad.Rate)) + geom_point(aes(color=Private))
ggplot(df,aes(Room.Borad, Grad.Rate)) + geom_point(aes(color=Private))
ggplot(df,aes(Room.Board, Grad.Rate)) + geom_point(aes(color=Private))
# Create a histogram of full time undergrad student, color by Private
ggplot(df, aes(F.Undergrad)) + geom_histogram(aes(color=Private))
# Create a histogram of full time undergrad student, color by Private
ggplot(df, aes(F.Undergrad)) + geom_histogram(aes(fill=Private, color="black"))
#Creat a histograme of Grad.Rate colored by Private.
ggplot(df, aes(Grad.Rate)) + geom_histogram(aes(fill=Private), color ="black")
#Creat a histograme of Grad.Rate colored by Private.
ggplot(df, aes(Grad.Rate)) + geom_histogram(aes(fill=Private), color ="black", bins = 50)
#What college had a Graduation rate of above 100%
subset(df, Grad.Rate > 100)
#Change that colloge's grad rate to 100%
df["Cazenovia College", "Grad.Rate"] <- 100
library(caTools)
set.seed(101)
sample <- sample.split(df$Private, SplitRatio = 0.7)
train <- subset(df, sample == TRUE)
test <- subset(df,sample == FALSE)
### DECISION TREE
#Use the rpart library to build a decision tree to predict whether or not a scholld is private. Remember to only build your tree off the training data
library(rpart)
tree <- rpart(Private ~., method="class", data=train)
#Use predict() to predict the private label on the test data
tree.preds <- predict(tree, test)
#Check the head of the predicted values.
head(tree.preds)
# Turns these two columns into one column to match the original Yes/No label for a private column
tree.preds <- as.data.frame(tree.preds)
joiner <- function(x){
if(x >= 0.5){
return("Yes")
}else{
return("No")
}
}
tree.preds$Private <- sapply(tree.preds$Yes, joiner)
head(tree.preds)
#Now ues table() to creat a confustion matrix of your tree model
table(tree.preds$Private, test$Private)
#Use the rpart.plot library and the prp() function to plot your tree model
library(rpart.plot)
prp(tree)
### RANDO FOREST
# Call the randomForest package libray
library(randomeForest)
### RANDO FOREST
# Call the randomForest package libray
library(randomForest)
#Use randomForest() to build out a model to predi t Private class. Add important=TRUE asa paramater in the model
rf.model <- randomForest(Private~., data=train, important=TRUE)
#waht was your model is confuse matrai on its own traiing set?
rf.model$confusion
#grab the features importance with model$importane.Refer to the reading for more inform
rf.model$importance
#Use randomForest() to build out a model to predi t Private class. Add important=TRUE asa paramater in the model
rf.model <- randomForest(Private~., data=train, importance=TRUE)
#waht was your model is confuse matrai on its own traiing set?
rf.model$confusion
#grab the features importance with model$importane.Refer to the reading for more inform
rf.model$importance
### PREDICTION
#use randome forest model to predict on your test set
p <- predict(rf.model, test)
table(p,test$Private)
